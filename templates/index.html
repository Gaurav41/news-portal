{% extends 'core/base.html' %}

{% block body %}
  <div class="container">
    <div>
      <form class="form-inline" action="" method="POST">
        {% csrf_token %}
        <div>
          <h4>Search News here:</h4>
        </div>
            <input type="text" id="keyword" name="keyword" value="{{data.keyword}}" required>
            <button type="submit">Search</button>
      </form>
    </div>

    <div class="result-container">
      <h2>Results</h2>

      {% if data %}
      Total Count: {{data.total_results}}

      {% comment %} <div id="results">
        <table id="dataTable">
          <tr>
            <th>News title</th>
            <th>Publish Date</th>
            <th>Source</th>
            <th>url</th>
          </tr>
          {% for article in data.articles %}
          <tr>
            <td>{{article.title}}</td>
            <td>{{article.publishedAt}}</td>
            <td>{{article.source.name}}</td>
            <td><a href="{{article.url}}" target="_blank">View</a></td>
          </tr>
          {% endfor %}
          <!-- Add more rows as needed -->
        </table>

      </div> {% endcomment %}

      {% for article in data.articles %}
      <h3>{{ article.title }}</h3>
      <p>{{ article.author }}, {{ article.publishedAt}}</p>
      <p>{{ article.publishedAt|date:'F j, Y g:i A'}}</p>
      <p>{{ article.description }}</p>
      <a href="{{ article.url }}" target="_blank">Read more</a>
      <hr>
  {% endfor %}
  
      <div>
      {% endif %}
    </div>
  </div>
{% endblock %}
